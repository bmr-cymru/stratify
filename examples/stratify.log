2024-06-28 13:40:33,796 stratify.py 1.1 - 2024-06-28
2024-06-28 13:40:33,796 Installing host dependencies
2024-06-28 13:40:33,796 Package list: git, anaconda, stratisd, stratis-cli, vim-enhanced
2024-06-28 13:40:34,613 Invoking umount command: umount /mnt/stratisroot/boot
2024-06-28 13:40:34,614 Installing for BIOS
2024-06-28 13:40:34,614 Using vda1 as BIOS boot device
2024-06-28 13:40:34,614 Using vda2 as boot device
2024-06-28 13:40:34,614 Using vda3 as Stratis pool device
2024-06-28 13:40:34,614 Creating partition table on vda
2024-06-28 13:40:34,651 Partitioning target device vda [1, 1000, 0]
2024-06-28 13:40:34,830 Starting Stratis daemon
2024-06-28 13:40:34,878 Creating pool p1 with vda3
2024-06-28 13:40:35,430 Creating file system fs1 in pool p1
2024-06-28 13:40:36,995 Mounting p1/fs1 on /mnt/stratisroot
2024-06-28 13:40:36,995 Invoking mount command: mount /dev/stratis/p1/fs1 /mnt/stratisroot
2024-06-28 13:40:37,020 Mounting vda2 on /mnt/stratisroot/boot
2024-06-28 13:40:37,020 Invoking mount command: mount /dev/vda2 /mnt/stratisroot/boot
2024-06-28 13:40:37,031 Running anaconda: anaconda --text --dirinstall /mnt/stratisroot --repo https://mirrors.mit.edu/fedora/linux/releases/40/Server/x86_64/os/ --kickstart /root/ks.cfg
2024-06-28 13:47:05,095 Creating bind mounts in chroot /mnt/stratisroot (['dev', 'proc', 'run', 'sys'])
2024-06-28 13:47:05,097 Invoking mount command: mount --bind /dev /mnt/stratisroot/dev
2024-06-28 13:47:05,111 Invoking mount command: mount --bind /proc /mnt/stratisroot/proc
2024-06-28 13:47:05,120 Invoking mount command: mount --bind /run /mnt/stratisroot/run
2024-06-28 13:47:05,126 Invoking mount command: mount --bind /sys /mnt/stratisroot/sys
2024-06-28 13:47:05,128 Mounting selinuxfs at /mnt/stratisroot/sys/fs/selinux
2024-06-28 13:47:05,129 Invoking mount command: mount -t selinuxfs none /mnt/stratisroot/sys/fs/selinux
2024-06-28 13:47:05,131 Installing packages dependencies in chroot
2024-06-28 13:47:05,132 Package list: stratisd, stratisd-dracut, stratis-cli, cryptsetup-libs, clevis-luks, keyutils
2024-06-28 13:47:24,435 Enabling unit=stratisd.service for sysinit.target.wants in /mnt/stratisroot
2024-06-28 13:47:24,454 Creating dracut initramfs
2024-06-28 13:47:48,809 Installing boot dependencies in chroot
2024-06-28 13:47:48,810 Package list: boom-boot, grub2-pc, grub2-pc-modules
2024-06-28 13:47:59,099 Installing grub2 bootloader
2024-06-28 13:47:59,100 Generating grub2 bootloader configuration
2024-06-28 13:48:00,506 Removing non-stratis boot entries from /mnt/stratisroot/boot
2024-06-28 13:48:01,218 Configuring boom OsProfile for pool_uuid=f517e2ab-2232-47d5-9222-74dd1fd6755f
2024-06-28 13:48:01,219 Creating boom OsProfile for Stratis boot
2024-06-28 13:48:01,428 Creating stratis root fs boot entry
2024-06-28 13:48:01,428 Creating boom boot entry
2024-06-28 13:48:05,064 Restoring SELinux contexts...
2024-06-28 13:48:21,109 Unmounting BIOS /mnt/stratisroot chroot layout
2024-06-28 13:48:21,109 Unmounting selinuxfs at /mnt/stratisroot/sys/fs/selinux
2024-06-28 13:48:21,109 Invoking umount command: umount /mnt/stratisroot/sys/fs/selinux
2024-06-28 13:48:21,115 Removing bind mounts from chroot /mnt/stratisroot (['dev', 'proc', 'run', 'sys'])
2024-06-28 13:48:21,115 Invoking umount command: umount /mnt/stratisroot/dev
2024-06-28 13:48:21,117 Invoking umount command: umount /mnt/stratisroot/proc
2024-06-28 13:48:21,118 Invoking umount command: umount /mnt/stratisroot/run
2024-06-28 13:48:21,120 Invoking umount command: umount /mnt/stratisroot/sys
2024-06-28 13:48:21,121 Unmounting /mnt/stratisroot/boot from /mnt/stratisroot
2024-06-28 13:48:21,122 Invoking umount command: umount /mnt/stratisroot/boot
2024-06-28 13:48:21,187 Unmounting /mnt/stratisroot
2024-06-28 13:48:21,187 Invoking umount command: umount /mnt/stratisroot
2024-06-28 13:48:21,428 Stratis root fs installation complete.
